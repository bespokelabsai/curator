interactions:
  - request:
      method: POST
      uri: https://bedrock-runtime.us-east-1.amazonaws.com/model/meta.llama3-1-70b-instruct-v1:0/invoke
      body:
        prompt: "<|begin_of_text|><|start_header_id|>system<|end_header_id|>You are a helpful assistant.<|eot_id|><|start_header_id|>user<|end_header_id|>Write a recipe for pasta carbonara<|eot_id|><|start_header_id|>assistant<|end_header_id|>"
        max_gen_len: 4096
        temperature: 0.7
        top_p: 0.95
      headers:
        Content-Type: application/json
        Accept: application/json
    response:
      status: 200
      body:
        generation: "Here is a recipe for pasta carbonara:\n\n1. Cook spaghetti according to package directions\n2. In a bowl, whisk together eggs, grated pecorino and black pepper\n3. Crisp up diced guanciale or pancetta\n4. Toss hot pasta with egg mixture and cured pork\n5. Add pasta water as needed for silky sauce\n\nServe immediately with extra cheese and pepper."
        stop_reason: stop
      headers:
        Content-Type: application/json

  - request:
      method: POST
      uri: https://bedrock-runtime.us-east-1.amazonaws.com/model/meta.llama3-1-70b-instruct-v1:0/invoke
      body:
        prompt: "<|begin_of_text|><|start_header_id|>system<|end_header_id|>You are a helpful assistant.<|eot_id|><|start_header_id|>user<|end_header_id|>Write a recipe for chicken tikka masala<|eot_id|><|start_header_id|>assistant<|end_header_id|>"
        max_gen_len: 4096
        temperature: 0.7
        top_p: 0.95
      headers:
        Content-Type: application/json
        Accept: application/json
    response:
      status: 200
      body:
        generation: "Here's a recipe for chicken tikka masala:\n\n1. Marinate chicken in yogurt and spices\n2. Grill or broil chicken until charred\n3. Make sauce with tomatoes, cream, and spices\n4. Combine chicken and sauce\n5. Simmer until thickened\n\nServe with naan bread and rice."
        stop_reason: stop
      headers:
        Content-Type: application/json

  # Test batch processing
  - request:
      method: POST
      uri: https://bedrock.us-east-1.amazonaws.com/model/meta.llama3-1-70b-instruct-v1:0/batch
      body:
        inputConfig:
          s3Uri: s3://test-bucket/input/test-job.jsonl
          dataInputConfig:
            contentType: application/json
            inputFormat: jsonlines
        outputConfig:
          s3Uri: s3://test-bucket/output/test-job/
          dataOutputConfig:
            contentType: application/json
        modelId: meta.llama3-1-70b-instruct-v1:0
        roleArn: test-role
      headers:
        Content-Type: application/json
        Accept: application/json
    response:
      status: 200
      body:
        jobId: test-job-123
        status: IN_PROGRESS
        creationTime: '2024-02-18T12:00:00Z'
      headers:
        Content-Type: application/json

  - request:
      method: GET
      uri: https://bedrock.us-east-1.amazonaws.com/model/meta.llama3-1-70b-instruct-v1:0/batch/test-job-123
      headers:
        Accept: application/json
    response:
      status: 200
      body:
        jobId: test-job-123
        status: COMPLETED
        creationTime: '2024-02-18T12:00:00Z'
        completionTime: '2024-02-18T12:05:00Z'
        outputLocation: s3://test-bucket/output/test-job-123/
        requestCounts:
          total: 3
          succeeded: 3
          failed: 0
          retried: 0
      headers:
        Content-Type: application/json
